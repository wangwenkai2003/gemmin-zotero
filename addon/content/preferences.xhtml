<linkset>
  <html:link rel="localization" href="__addonRef__-preferences.ftl" />
</linkset>
<groupbox
  onload="Zotero.__addonInstance__.hooks.onPrefsEvent('load', { window });"
>
  <label><html:h2 data-l10n-id="pref-title"></html:h2></label>
  <hbox align="center">
    <html:label
      for="zotero-prefpane-__addonRef__-apiKey"
      data-l10n-id="pref-apiKey"
    ></html:label>
    <html:input
      type="text"
      id="zotero-prefpane-__addonRef__-apiKey"
      preference="extensions.zotero-gemini-analyzer.apiKey"
    ></html:input>
  </hbox>

  <!-- 添加模型选择下拉菜单 -->
  <hbox align="center">
    <html:label
      for="zotero-prefpane-__addonRef__-model"
      data-l10n-id="pref-model"
    ></html:label>
    <menulist
  id="zotero-prefpane-__addonRef__-model"
  preference="extensions.zotero-gemini-analyzer.model">
  <menupopup>
    <!-- 确保每个 menuitem 都有 label 和 value -->
    <menuitem value="gemini-pro" label="Gemini Pro" data-l10n-id="model-gemini-pro" />
    <menuitem value="gemini-1.5-pro-latest" label="Gemini 1.5 Pro Latest" data-l10n-id="model-gemini-1-5-pro-latest" />
    <menuitem value="gemini-1.5-latest" label="Gemini 1.5 Latest" data-l10n-id="model-gemini-1-5-latest" />
  </menupopup>
</menulist>
  </hbox>

</groupbox>
<vbox>
  <html:label
    data-l10n-id="pref-help"
    data-l10n-args='{"time": "__buildTime__","name": "__addonName__","version":"__buildVersion__"}'
  ></html:label>
</vbox>
<mcfile name="preferences.xhtml" path="h:\zeotero\plugins\addon\content\preferences.xhtml"></mcfile>
